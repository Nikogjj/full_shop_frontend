<div class="register-form-container">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
    
    <h2 class="form-title">Inscription</h2>
    <p class="form-subtitle">Cr√©ez votre compte pour rejoindre FootStyleShop</p>
    
    <div class="form-group">
      <label for="prenom" class="form-label">Pr√©nom</label>
      <input 
        type="text" 
        id="prenom" 
        formControlName="prenom"
        class="form-input"
        [class.error]="registerForm.get('prenom')?.invalid && registerForm.get('prenom')?.touched"
        placeholder="Votre pr√©nom">
      
      @if (registerForm.get('prenom')?.invalid && registerForm.get('prenom')?.touched) {
        <div class="error-messages">
          @if (registerForm.get('prenom')?.errors?.['required']) {
            <span class="error-text">Le pr√©nom est obligatoire</span>
          }
          @if (registerForm.get('prenom')?.errors?.['minlength']) {
            <span class="error-text">Le pr√©nom doit contenir au moins 2 caract√®res</span>
          }
          @if (registerForm.get('prenom')?.errors?.['pattern']) {
            <span class="error-text">Le pr√©nom ne doit contenir que des lettres</span>
          }
        </div>
      }
    </div>
    
    <div class="form-group">
      <label for="nom" class="form-label">Nom</label>
      <input 
        type="text" 
        id="nom" 
        formControlName="nom"
        class="form-input"
        [class.error]="registerForm.get('nom')?.invalid && registerForm.get('nom')?.touched"
        placeholder="Votre nom">
      
      @if (registerForm.get('nom')?.invalid && registerForm.get('nom')?.touched) {
        <div class="error-messages">
          @if (registerForm.get('nom')?.errors?.['required']) {
            <span class="error-text">Le nom est obligatoire</span>
          }
          @if (registerForm.get('nom')?.errors?.['minlength']) {
            <span class="error-text">Le nom doit contenir au moins 2 caract√®res</span>
          }
          @if (registerForm.get('nom')?.errors?.['pattern']) {
            <span class="error-text">Le nom ne doit contenir que des lettres</span>
          }
        </div>
      }
    </div>
    
    <div class="form-group">
      <label for="email" class="form-label">Adresse e-mail</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email"
        class="form-input"
        [class.error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched"
        placeholder="votre@email.com">
      
      @if (registerForm.get('email')?.invalid && registerForm.get('email')?.touched) {
        <div class="error-messages">
          @if (registerForm.get('email')?.errors?.['required']) {
            <span class="error-text">L'adresse e-mail est obligatoire</span>
          }
          @if (registerForm.get('email')?.errors?.['email']) {
            <span class="error-text">Veuillez saisir une adresse e-mail valide</span>
          }
        </div>
      }
    </div>
    
    <div class="form-group">
      <label for="confirmEmail" class="form-label">Confirmation e-mail</label>
      <input 
        type="email" 
        id="confirmEmail" 
        formControlName="confirmEmail"
        class="form-input"
        [class.error]="registerForm.get('confirmEmail')?.invalid && registerForm.get('confirmEmail')?.touched"
        placeholder="Confirmez votre e-mail">
      
      @if (registerForm.get("confirmEmail")?.invalid && registerForm.get("confirmEmail")?.touched) {
        <div class="error-messages">
          @if (registerForm.get("confirmEmail")?.errors?.["required"]) {
            <span class="error-text">La confirmation e-mail est obligatoire</span>
          }
          @if (registerForm.get("confirmEmail")?.errors?.["email"]) {
            <span class="error-text">Veuillez saisir une adresse e-mail valide</span>
          }
          @if (registerForm.get("confirmEmail")?.errors?.["emailMismatch"] && registerForm.get("confirmEmail")?.touched) {
            <span class="error-text">Les adresses e-mail ne correspondent pas</span>
          }
        </div>
        }
    </div>
    
    <div class="form-group">
      <label for="motDePasse" class="form-label">Mot de passe</label>
      <div class="password-input-container">
        <input 
          [type]="showPassword ? 'text' : 'password'" 
          id="motDePasse" 
          formControlName="motDePasse"
          class="form-input"
          [class.error]="registerForm.get('motDePasse')?.invalid && registerForm.get('motDePasse')?.touched"
          placeholder="Votre mot de passe">
        <button 
          type="button" 
          class="password-toggle"
          (click)="togglePasswordVisibility()">
          {{ showPassword ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è' }}
        </button>
      </div>
      
      @if (registerForm.get('motDePasse')?.invalid && registerForm.get('motDePasse')?.touched) {
        <div class="error-messages">
          @if (registerForm.get('motDePasse')?.errors?.['required']) {
            <span class="error-text">Le mot de passe est obligatoire</span>
          }
          @if (registerForm.get('motDePasse')?.errors?.['minlength']) {
            <span class="error-text">Le mot de passe doit contenir au moins 8 caract√®res</span>
          }
          @if (registerForm.get('motDePasse')?.errors?.['pattern']) {
            <span class="error-text">Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre</span>
          }
        </div>
      }
    </div>
    
    <div class="form-group">
      <label for="dateNaissance" class="form-label">Date de naissance</label>
      <input 
        type="date" 
        id="dateNaissance" 
        formControlName="dateNaissance"
        class="form-input"
        [class.error]="registerForm.get('dateNaissance')?.invalid && registerForm.get('dateNaissance')?.touched">
      
      @if (registerForm.get('dateNaissance')?.invalid && registerForm.get('dateNaissance')?.touched) {
        <div class="error-messages">
          @if (registerForm.get('dateNaissance')?.errors?.['required']) {
            <span class="error-text">La date de naissance est obligatoire</span>
          }
          @if (registerForm.get('dateNaissance')?.errors?.['dateFuture']) {
            <span class="error-text">La date de naissance ne peut pas √™tre dans le futur</span>
          }
        </div>
      }
    </div>
    
    <button 
      type="submit" 
      class="submit-btn"
      [disabled]="registerForm.invalid || isLoading">
      @if (isLoading) {
        <span class="loading-spinner"></span>
        Inscription en cours...
      } @else {
        S'inscrire
      }
    </button>
    
    <div class="login-link">
      <p>D√©j√† inscrit ? 
        <a (click)="navigateToLogin()" class="login-text">Cliquez ici !</a>
      </p>
    </div>
    
  </form>
</div>
